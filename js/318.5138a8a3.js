"use strict";(self["webpackChunkfood_store_patrick"]=self["webpackChunkfood_store_patrick"]||[]).push([[318],{9318:function(t,o,e){e.r(o),e.d(o,{default:function(){return p}});var r=function(){var t=this,o=t.$createElement,e=t._self._c||o;return t.productToEdit?e("div",{attrs:{id:"updateProductContainer"}},[e("header",[e("h2",[t._v("Sesión de Administrador")]),e("div",{attrs:{id:"backLinks"}},[e("router-link",{attrs:{to:"/admin"}},[t._v("Volver a la sesión principal de Administrador")]),e("router-link",{attrs:{to:"/"}},[t._v("Volver a la home")])],1)]),e("form",{on:{submit:function(t){t.preventDefault()}}},[e("h4",[t._v("Edita el producto")]),e("div",{attrs:{id:"inputsContainer"}},[e("label",{attrs:{for:"productName"}},[t._v("Nombre del producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.productName,expression:"productToEdit.productName"}],attrs:{id:"productName",type:"text"},domProps:{value:t.productToEdit.productName},on:{input:function(o){o.target.composing||t.$set(t.productToEdit,"productName",o.target.value)}}}),e("label",{attrs:{for:"productPrice"}},[t._v("Precio del producto")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.price,expression:"productToEdit.price",modifiers:{number:!0}}],attrs:{id:"productPrice",type:"number"},domProps:{value:t.productToEdit.price},on:{input:function(o){o.target.composing||t.$set(t.productToEdit,"price",t._n(o.target.value))},blur:function(o){return t.$forceUpdate()}}}),e("label",{attrs:{for:"productCategory"}},[t._v("Categoría del producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.category,expression:"productToEdit.category"}],attrs:{id:"productCategory",type:"text"},domProps:{value:t.productToEdit.category},on:{input:function(o){o.target.composing||t.$set(t.productToEdit,"category",o.target.value)}}}),e("label",{attrs:{for:"imgSrc"}},[t._v("Fuente de la imagen del producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.imgSrc,expression:"productToEdit.imgSrc"}],attrs:{id:"imgSrc",type:"text"},domProps:{value:t.productToEdit.imgSrc},on:{input:function(o){o.target.composing||t.$set(t.productToEdit,"imgSrc",o.target.value)}}}),e("label",{attrs:{for:"productDiscount"}},[t._v("Descuento del producto")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.hasDiscount,expression:"productToEdit.hasDiscount"}],attrs:{id:"productDiscount",type:"text"},domProps:{value:t.productToEdit.hasDiscount},on:{input:function(o){o.target.composing||t.$set(t.productToEdit,"hasDiscount",o.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.productToEdit.hasDiscount,expression:"productToEdit.hasDiscount"}],attrs:{name:"hasDiscount",id:"hasDiscount"},on:{change:function(o){var e=Array.prototype.filter.call(o.target.options,(function(t){return t.selected})).map((function(t){var o="_value"in t?t._value:t.value;return o}));t.$set(t.productToEdit,"hasDiscount",o.target.multiple?e:e[0])}}},t._l(t.discountBooleans,(function(o,r){return e("option",{key:r,domProps:{value:o}},[t._v(" "+t._s(o)+" ")])})),0),e("label",{attrs:{for:"productDiscountPercentage"}},[t._v("Porcentaje del descuento")]),e("input",{directives:[{name:"model",rawName:"v-model.number",value:t.productToEdit.discountPercentage,expression:"productToEdit.discountPercentage",modifiers:{number:!0}}],attrs:{id:"productDiscountPercentage",type:"number"},domProps:{value:t.productToEdit.discountPercentage},on:{input:function(o){o.target.composing||t.$set(t.productToEdit,"discountPercentage",t._n(o.target.value))},blur:function(o){return t.$forceUpdate()}}})]),e("button",{attrs:{id:"updateProductButton",type:"submit"},on:{click:function(o){return t.editProduct()}}},[t._v(" Actualizar producto ")])])]):t._e()},d=[],u=e(4120),i=e(4665),a={data(){return{productToEdit:null,productId:parseInt(this.$route.params.productId),discountBooleans:[!0,!1]}},created(){this.getProduct(),console.log(this.productId,typeof this.productId)},methods:{...(0,i.nv)("products",["updateProduct"]),async getProduct(){this.productToEdit=await u.Z.getProductById(this.productId)},async editProduct(){await this.updateProduct({productId:this.productId,product:this.productToEdit}),alert("Producto actualizado!")}}},c=a,n=e(1001),s=(0,n.Z)(c,r,d,!1,null,"37f2104c",null),p=s.exports}}]);
//# sourceMappingURL=318.5138a8a3.js.map